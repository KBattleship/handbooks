<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Quinn</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Quinn" />
  <meta name="description" content="笨笨豪の摘星辰" />
  <meta name="keywords" content="Quinn, k8s, docker" />






<meta name="generator" content="Hugo 0.72.0" />


<link rel="canonical" href="https://touch-star.com/" />
<link href="/index.xml" rel="alternate" type="application/rss+xml" title="Quinn" />




<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.df122b25b641564f3bb0c282425067c0d4beec4d1f2f909ea9abedf79c70bd82.css" integrity="sha256-3xIrJbZBVk87sMKCQlBnwNS&#43;7E0fL5Ceqavt95xwvYI=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="Quinn" />
<meta property="og:description" content="笨笨豪の摘星辰" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://touch-star.com/" />
<meta property="og:updated_time" content="2021-01-10T11:10:47+08:00" />
<meta itemprop="name" content="Quinn">
<meta itemprop="description" content="笨笨豪の摘星辰"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Quinn"/>
<meta name="twitter:description" content="笨笨豪の摘星辰"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Quinn</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          <div class="mobile-menu-parent">
            <span class="mobile-submenu-open"></span>
            <a href="https://touch-star.com/categories">
              分类
            </a>
          </div>
          <ul class="mobile-submenu-list">
            
              <li>
                <a href="https://touch-star.com/categories/algorithm">Algorithm</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/java">Java</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/go">Go</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/k8s">K8s</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/middleware">MiddleWare</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/linux">Linux</a>
              </li>
            
          </ul>
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/about/">关于</a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Quinn
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item active">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          <a class="menu-item-link menu-parent" href="https://touch-star.com/categories">分类</a>
          <ul class="submenu">
            
              <li>
                <a href="https://touch-star.com/categories/algorithm">Algorithm</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/java">Java</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/go">Go</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/k8s">K8s</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/middleware">MiddleWare</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/linux">Linux</a>
              </li>
            
          </ul>

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/about/">关于</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          
<section id="posts" class="posts">
  
  
    
  
  
  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/coding/java/interview/1-one/">[ Interview ] 1.面试准备</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-12-31" class="post-time">
        2020-12-31
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/java/"> Java </a>
          
        </div>
      <span class="more-meta"> 约 55 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/coding/java/interview/1-one/" class="leancloud_visitors" data-flag-title="[ Interview ] 1.面试准备">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      面试准备  Java线程池 1     JDK中JUC包 1     JVM调优：如果发现某个服务慢，如何排查，如何处理；发现某个服务器CPU100%了，应该如何处理 1 2 3 4 5 6  遵循六步走原则： 1）找到罪魁祸首的进程 2）分析进程对应的线程 3）生成JVM当前时刻线程快照 4）分析定位代码问题 5）    垃圾回收器G1与GC算法CMS 1     Tomcat 如何实现类隔离 1     Spring IOC原理 1     Spring AOP原理 1     Spring事务 1     Dubbo服务发现、注册流程 1     Dubbo通信原理 1     Dubbo SPI与Java SPI 1     Zookeeper选举协议 1     大数据量的排序如何处理 1     如何判断链表是回文链表、快排序、归并排序 1     MySQL调优：B+ Tree索引、Hash索引 1     Mybatis的一、二级缓存 1     Mybatis工作原理 1 2     Redis Bitmap  
    </div>
    <div class="read-more">
      <a href="/post/coding/java/interview/1-one/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/coding/java/base/2_basic/2_4_hashmap/">[ Java ] 2.4 HashMap虐杀，完败</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-12-31" class="post-time">
        2020-12-31
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/java/"> Java </a>
          
        </div>
      <span class="more-meta"> 约 863 字 </span>
      <span class="more-meta"> 预计阅读 5 分钟 </span>
      
      
      
        <span id="/post/coding/java/base/2_basic/2_4_hashmap/" class="leancloud_visitors" data-flag-title="[ Java ] 2.4 HashMap虐杀，完败">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      HashMap虐杀，完败  HashMap内部实现是一个 桶数组 ，每个桶中存放着一个 单链表的头结点 。其中每个结点存储的是一个 键值对整体（Entry），HashMap采用 拉链法 解决哈希冲突。
 1. HashMap的resize()流程 源码解析
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84  // 扩容 hashTable 大小的方法  final Node&lt;K,V&gt;[] resize() { // 扩容前 hashTable  Node&lt;K,V&gt;[] oldTab = table; // 扩容前 HashTable 的容量  int oldCap = (oldTab == null) ?
    </div>
    <div class="read-more">
      <a href="/post/coding/java/base/2_basic/2_4_hashmap/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/coding/java/base/2_basic/2_5_lru/">[ Java ] 2.5 手写LRU</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-12-31" class="post-time">
        2020-12-31
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/java/"> Java </a>
          
        </div>
      <span class="more-meta"> 约 5 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/coding/java/base/2_basic/2_5_lru/" class="leancloud_visitors" data-flag-title="[ Java ] 2.5 手写LRU">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      手写LRU 1. 利用数组实现 2. 使用LinkedHashMap偷个懒 
    </div>
    <div class="read-more">
      <a href="/post/coding/java/base/2_basic/2_5_lru/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/coding/java/spring/mybatis/design_pattern/">[ Mybatis ] 1.Mybatis源码中设计模式</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-12-31" class="post-time">
        2020-12-31
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/java/"> Java </a>
          
        </div>
      <span class="more-meta"> 约 11 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/coding/java/spring/mybatis/design_pattern/" class="leancloud_visitors" data-flag-title="[ Mybatis ] 1.Mybatis源码中设计模式">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      Mybatis源码中设计模式  Builder模式：例如SqlSessionFactoryBuilder、XMLConfigBuilder、XMLMapperBuilder、XMLStatementBuilder、CacheBuilder； 工厂模式：例如SqlSessionFactory、ObjectFactory、MapperProxyFactory； 单例模式：例如ErrorContext和LogFactory； 代理模式：Mybatis实现的核心，比如MapperProxy、ConnectionLogger，用的jdk的+ 动态代理；还有executor.loader包使用了cglib或者javassist达到延迟加载的效果； 组合模式：例如SqlNode和各个子类ChooseSqlNode等； 模板方法模式：例如BaseExecutor和SimpleExecutor，还有BaseTypeHandler和所有的子类例如IntegerTypeHandler； 适配器模式：例如Log的Mybatis接口和它对jdbc、log4j等各种日志框架的适配实现； 装饰者模式：例如Cache包中的cache.decorators子包中等各个装饰者的实现； +迭代器模式：例如迭代器模式PropertyTokenizer；  
    </div>
    <div class="read-more">
      <a href="/post/coding/java/spring/mybatis/design_pattern/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/coding/java/spring/design_pattern/">[ Spring ] 1.Spring源码中设计模式</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-12-31" class="post-time">
        2020-12-31
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/java/"> Java </a>
          
        </div>
      <span class="more-meta"> 约 20 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/coding/java/spring/design_pattern/" class="leancloud_visitors" data-flag-title="[ Spring ] 1.Spring源码中设计模式">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      Spring源码中设计模式   工程模式：Spring中的BeanFactory就是简单工厂模式的体现，根据传入一个唯一的标识来获得Bean对象
  单例模式：Spring依赖注入Bean实例默认是单例的。Spring的依赖注入（包括lazy-init方式）都是发生在AbstractBeanFactory的getBean里。getBean的doGetBean方法调用getSingleton进行bean的创建。
  装饰器模式：Spring中用到的包装器模式在类名上有两种表现：一种是类名中含有Wrapper，另一种是类名中含有Decorator。
  代理模式：AOP底层，就是动态代理模式的实现
  观察者模式：spring的事件驱动模型使用的是 观察者模式 ，Spring中Observer模式常用的地方是listener的实现。如：ApplicationContextEvent、ApplicationListener
  策略模式：Spring框架的资源访问Resource接口。该接口提供了更强的资源访问能力，Spring 框架本身大量使用了 Resource 接口来访问底层资源。
 UrlResource：访问网络资源的实现类。 ClassPathResource：访问类加载路径里资源的实现类。 FileSystemResource：访问文件系统里资源的实现类。 ServletContextResource：访问相对于 ServletContext 路径里的资源的实现类. InputStreamResource：访问输入流资源的实现类。 ByteArrayResource：访问字节数组资源的实现类。    
    </div>
    <div class="read-more">
      <a href="/post/coding/java/spring/design_pattern/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/coding/java/base/4_thread/4_1_locks/">[ Java ] 4-1.关于锁</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-12-27" class="post-time">
        2020-12-27
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/java/"> Java </a>
          
        </div>
      <span class="more-meta"> 约 191 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/coding/java/base/4_thread/4_1_locks/" class="leancloud_visitors" data-flag-title="[ Java ] 4-1.关于锁">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      关于锁 1.自旋锁（SpinLock）  当一个线程在获取锁的时候，如果锁已经被其他线程获取，那么该线程将循环等待，然后不断的判断锁是否已经被其他线程释放，可以成功获取到锁，直到可以获取到锁才退出循环。
 无论 自旋锁 ，还是 互斥锁 ， 在任何时刻，都最多只有一个执行单元获得锁。
2.可重复锁/不可重复锁  可重复锁： 广义上定义为，可重复可递归调用的锁，在外层使用之后，在内层依旧可以使用，并且不会发生死锁(前提保证是同一个Obj或Class)。例如：ReentrantLock 和 synchronized 是可重复锁。
 Coding Demo One：
1 2 3 4 5 6 7 8 9  synchronized void setA() throw Exception{ Thread.sleep(1000); // 如果不是可重入锁，setB()将可能不会被当前线程执行，造成死锁。  setB(); } synchronized void setB() throw Exception{ Thread.sleep(1000); }    不可重复锁： 与 可重入锁刚好相反，不可重复进行递归调用，递归调用将造成死锁。
 Coding Demo One：
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  // 通过 自旋锁 实现一个不可重入锁  public class UnreentrantLock{ private AtomicReference&lt;Thread&gt; owner = new AtomicReference&lt;&gt;(); public void lock(){ Thread curr = Thread.
    </div>
    <div class="read-more">
      <a href="/post/coding/java/base/4_thread/4_1_locks/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/coding/java/base/4_thread/4_0_interview/">[ Java ] 4.0 多线程问题</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-12-27" class="post-time">
        2020-12-27
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/java/"> Java </a>
          
        </div>
      <span class="more-meta"> 约 4 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/coding/java/base/4_thread/4_0_interview/" class="leancloud_visitors" data-flag-title="[ Java ] 4.0 多线程问题">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      多线程问题 1. 如何保证多线程同时启动，主线程进行耗时统计。 CountDownLatch
    </div>
    <div class="read-more">
      <a href="/post/coding/java/base/4_thread/4_0_interview/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/coding/java/base/3_jvm/1_jvm-base/">[ JVM ] 1.关于JVM命令</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-12-27" class="post-time">
        2020-12-27
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/java/"> Java </a>
          
        </div>
      <span class="more-meta"> 约 398 字 </span>
      <span class="more-meta"> 预计阅读 2 分钟 </span>
      
      
      
        <span id="/post/coding/java/base/3_jvm/1_jvm-base/" class="leancloud_visitors" data-flag-title="[ JVM ] 1.关于JVM命令">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      关于JVM命令 一、命令列表  jps jmap jhat jstat jstack jcmd jinfo  二、命令使用 1. jps - JVM进程状态   用法
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  $ jps -help usage: jps [-help] jps [-q] [-mlvV] [&lt;hostid&gt;] Definitions: &lt;hostid&gt;: &lt;hostname&gt;[:&lt;port&gt;] # 若不指定&lt;hostid&gt;,则表示当前默认主机或服务器 # -q 仅输出当前进程号 # -m 输出JVM启动时传递给main()的参数 # -l 输出主类名称；如果进程是jar，将输出jar路径 # -v 输出传递给JVM的参数 # -V 仅输出本地JVM标识符     实例讲解
    </div>
    <div class="read-more">
      <a href="/post/coding/java/base/3_jvm/1_jvm-base/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/coding/java/base/3_jvm/2_jvm_gc/">[ JVM ] 2.JVM垃圾回收</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-12-27" class="post-time">
        2020-12-27
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/java/"> Java </a>
          
        </div>
      <span class="more-meta"> 约 129 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/coding/java/base/3_jvm/2_jvm_gc/" class="leancloud_visitors" data-flag-title="[ JVM ] 2.JVM垃圾回收">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      JVM垃圾回收 1. 垃圾回收机制 在Java中，编写代码时不需要通过显式方式去释放一个对象的内存，而是通过JVM自行进行垃圾回收。JVM中，存在一个垃圾回收线程，它属于一个 低优先级线程 ，正常情况下是不会执行的，只有在 JVM空闲 或者 当前堆内存不足 时，才会触发执行，扫描那些 没有被任何引用的对象 ，并将它们添加到回收集合中，进行内存释放。
2. 引用类型   强引用
发生GC时，对象不会被回收。
  软引用
有用但不是必须的对象，在发生内存溢出之前会被回收
  弱引用
有用但不是必须的对象，在下一次GC时会被回收
  虚引用
无法通过虚引用获取到对象(通过 PhantomReference 实现虚引用)，作用是在GC时返回一个通知。
  3. 如何判断对象是否可以被回收？ 垃圾收集器在做垃圾回收的时候，首先需要判定的就是 哪些对象内存需要被释放 ， 哪些对象依旧存活，不可释放 。
一般通过两种方式进行判断：
  引用计数器法：
为每一个对象创建一个引用计数，有对象引用时计数器进行 ++ ，应用被释放时计数 &ndash; ，当 计数器==0 时可以被回收。(不足： 无法解决循环引用问题)
  可达性分析算法：
从 GC Roots 开始向下搜索，搜索所走过的路径成为引用链。当一个对象到 GC Roots没有任何引用链是，则可以进行回收。
  1：系统类加载器加载的对象
  2：处于激活状态的线程
  3：JNI栈中的对象
    </div>
    <div class="read-more">
      <a href="/post/coding/java/base/3_jvm/2_jvm_gc/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/coding/java/base/3_jvm/3_jvm_memory_monitor/">[ JVM ] 3.JVM内存模型</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-12-27" class="post-time">
        2020-12-27
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/java/"> Java </a>
          
        </div>
      <span class="more-meta"> 约 120 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/coding/java/base/3_jvm/3_jvm_memory_monitor/" class="leancloud_visitors" data-flag-title="[ JVM ] 3.JVM内存模型">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      JVM内存 1. JVM 内存结构  栈（JVM Stacks）  存放基本数据类型、对象的引用、方法出口等，线程私有 栈容量超过 Java 虚拟机栈的最大容量，会抛出 StackOverflowError 异常   堆  所有线程共享的，它在虚拟机启动时就会被创建 内存空间占据的最大一块区域 用来存放对象实例及数组，通过 new 关键字 new 出来的对象都存放在这里 垃圾回收器的主要回收对象 老年代 + 新生代 = 老年代 + Eden + S0 + S1   方法区 （Metaspace元空间）  都是各个线程共享的 类信息、常量、静态变量、即时编译器编译后的代码   本地方法区  只不过它服务于Native方法，线程私有 HotSpot虚拟机直接就把本地方法栈和虚拟机栈合二为一   程序计数器  当前线程所执行的字节码的行号指示器，用于记录正在执行的虚拟机字节指令地址，线程私有 程序计数器是唯一一个在Java虚拟机规范中没有规定任何 OutOfMemoryError 情况的区域。    2. 简述Java堆内存分配策略  大对象：需要大量连续内存空间的Java对象，比如很长的字符串和大型数组， 对象优先在Eden分配，如果Eden内存空间不足，就会发生Minor GC 长期存活的对象将进入老年代，默认15岁，-XX:MaxTenuringThreshold 动态对象年龄判定 空间分配担保  3.
    </div>
    <div class="read-more">
      <a href="/post/coding/java/base/3_jvm/3_jvm_memory_monitor/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
</section>






  
  
  

  
  

  
  

  
  

  
  
  <nav class="pagination">
    <ul>
      
      <li >
        <a href="/">1</a>
      </li>
      
      <li  class="active" >
        <a href="/page/2/">2</a>
      </li>
      
      <li >
        <a href="/page/3/">3</a>
      </li>
      
      <li >
        <a href="/page/4/">4</a>
      </li>
      
      <li >
        <a href="/page/5/">5</a>
      </li>
      
      <li >
        <a href="/page/6/">6</a>
      </li>
      
      <li >
        <a href="/page/7/">7</a>
      </li>
      
      <li >
        <a href="/page/8/">8</a>
      </li>
      
      <li >
        <a href="/page/9/">9</a>
      </li>
      
      <li >
        <a href="/page/10/">10</a>
      </li>
      
      <li >
        <a href="/page/11/">11</a>
      </li>
      
      <li >
        <a href="/page/12/">12</a>
      </li>
      
      <li >
        <a href="/page/13/">13</a>
      </li>
      
    </ul>
  </nav>

  
  





        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:xy410257@163.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/quinniup" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>


<a href="https://touch-star.com/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2019 -
    2021
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Quinn
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  







  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script type="text/javascript">
    AV.initialize("OhEPOy5aOYzYHl3v9PCSQsnv-gzGzoHsz", "f1kLulToEkQkoGTmgxqQagSw");
  </script>

  <script>
    function showHitCount(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push($(this).attr("id").trim());
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var hits = item.get('hits');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(hits);
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if (countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function (results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("hits");
            counter.save(null, {
              success: function (counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('hits'));
              },
              error: function (counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
             
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
             
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("hits", 1);
            newcounter.save(null, {
              success: function (newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('hits'));
              },
              error: function (newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function (error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function () {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        
        addCount(Counter);
      } else if ($('.post-link').length > 1) {
        
        showHitCount(Counter);
      }
    });
  </script>









</body>
</html>
