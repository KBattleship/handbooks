<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Quinn</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Quinn" />
  <meta name="description" content="笨笨豪の摘星辰" />
  <meta name="keywords" content="Quinn, k8s, docker" />






<meta name="generator" content="Hugo 0.72.0" />


<link rel="canonical" href="https://touch-star.com/" />
<link href="/index.xml" rel="alternate" type="application/rss+xml" title="Quinn" />




<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.df122b25b641564f3bb0c282425067c0d4beec4d1f2f909ea9abedf79c70bd82.css" integrity="sha256-3xIrJbZBVk87sMKCQlBnwNS&#43;7E0fL5Ceqavt95xwvYI=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="Quinn" />
<meta property="og:description" content="笨笨豪の摘星辰" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://touch-star.com/" />
<meta property="og:updated_time" content="2021-01-07T01:13:47+08:00" />
<meta itemprop="name" content="Quinn">
<meta itemprop="description" content="笨笨豪の摘星辰"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Quinn"/>
<meta name="twitter:description" content="笨笨豪の摘星辰"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Quinn</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          <div class="mobile-menu-parent">
            <span class="mobile-submenu-open"></span>
            <a href="https://touch-star.com/categories">
              分类
            </a>
          </div>
          <ul class="mobile-submenu-list">
            
              <li>
                <a href="https://touch-star.com/categories/algorithm">Algo</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/java">Java</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/go">Go</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/k8s">K8s</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/middleware">MiddleWare</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/linux">Linux</a>
              </li>
            
          </ul>
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/about/">关于</a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Quinn
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item active">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          <a class="menu-item-link menu-parent" href="https://touch-star.com/categories">分类</a>
          <ul class="submenu">
            
              <li>
                <a href="https://touch-star.com/categories/algorithm">Algo</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/java">Java</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/go">Go</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/k8s">K8s</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/middleware">MiddleWare</a>
              </li>
            
              <li>
                <a href="https://touch-star.com/categories/linux">Linux</a>
              </li>
            
          </ul>

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://touch-star.com/about/">关于</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          
<section id="posts" class="posts">
  
  
    
  
  
  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/cloudnative/kubernetes/2_k8s_pod/2_pods_example/">[ Kubernetes ] 2-2.SpringBoot--Pods项目初体验</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-09-17" class="post-time">
        2020-09-17
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/k8s/"> K8s </a>
          
        </div>
      <span class="more-meta"> 约 563 字 </span>
      <span class="more-meta"> 预计阅读 3 分钟 </span>
      
      
      
        <span id="/post/cloudnative/kubernetes/2_k8s_pod/2_pods_example/" class="leancloud_visitors" data-flag-title="[ Kubernetes ] 2-2.SpringBoot--Pods项目初体验">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      SpringBoot&ndash;Pods项目初体验  在SpringBoot项目中通过fabric8打包插件构建docker镜像
 通过Kubernetes的接口请求Pod对象，相信信息如下：
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208  { &#34;kind&#34;: &#34;Pod&#34;, &#34;apiVersion&#34;: &#34;v1&#34;, &#34;metadata&#34;: { &#34;name&#34;: &#34;kubernetes-hello-world-779c4c748b-2rv27&#34;, &#34;generateName&#34;: &#34;kubernetes-hello-world-779c4c748b-&#34;, &#34;namespace&#34;: &#34;default&#34;, &#34;selfLink&#34;: &#34;/api/v1/namespaces/default/pods/kubernetes-hello-world-779c4c748b-2rv27&#34;, &#34;uid&#34;: &#34;dea46f9f-cd4b-11e9-b38e-025000000001&#34;, &#34;resourceVersion&#34;: &#34;34209&#34;, &#34;creationTimestamp&#34;: &#34;2019-09-02T06:35:35Z&#34;, &#34;labels&#34;: { &#34;app&#34;: &#34;kubernetes-hello-world&#34;, &#34;group&#34;: &#34;org.
    </div>
    <div class="read-more">
      <a href="/post/cloudnative/kubernetes/2_k8s_pod/2_pods_example/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/cloudnative/kubernetes/1_k8s_base/4_k8s_install/">[ Kubernetes ] 1-4.kubeadm命令使用</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-09-14" class="post-time">
        2020-09-14
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/k8s/"> K8s </a>
          
        </div>
      <span class="more-meta"> 约 366 字 </span>
      <span class="more-meta"> 预计阅读 2 分钟 </span>
      
      
      
        <span id="/post/cloudnative/kubernetes/1_k8s_base/4_k8s_install/" class="leancloud_visitors" data-flag-title="[ Kubernetes ] 1-4.kubeadm命令使用">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      安装初始化K8s集群 1.安装K8s 1.1CentOS安装   预先准备工作
1 2 3 4 5 6 7 8 9 10 11 12 13  # 修改设置主机名称 hostnamectl set-hostname master # 绑定主机各节点hosts 192.168.0.1 master 192.168.0.2 node1 192.168.0.3 node2 # 验证每节点的Mac地址与UUID是否唯一 # mac地址注意查看网卡 cat /sys/class/net/eth1/address cat /sys/class/dmi/id/product_uuid # 关闭缓存交换swap swapoff -a # 临时关闭 sed -i.bak &#39;/swap/s/^/#/&#39; /etc/fstab #永久关闭     安装Kubernetes
1 2  # 设置K8s安装源，由于防火墙问题使用阿里云源 cat &lt;&lt;EOF &gt; /etc/yum.repos.d/kubernetes.repo     [kubernetes] name=Kubernetes baseurl=https://mirrors.
    </div>
    <div class="read-more">
      <a href="/post/cloudnative/kubernetes/1_k8s_base/4_k8s_install/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/cloudnative/kubernetes/1_k8s_base/2_kubectl/">[ Kubernetes ] 1-2.Kubectl命令行工具</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-09-12" class="post-time">
        2020-09-12
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/k8s/"> K8s </a>
          
        </div>
      <span class="more-meta"> 约 189 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/cloudnative/kubernetes/1_k8s_base/2_kubectl/" class="leancloud_visitors" data-flag-title="[ Kubernetes ] 1-2.Kubectl命令行工具">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      Kubectl命令行工具 1.kubectl用法  $~: kubectl [command] [TYPE] [NAME] [flags]
   [command] 子命令。用于操作Kubernetes集群资源对象。
可取值：[create | delete | describe | get | apply]
  [TYPE] 资源对象的类型。区分大小写
备注：可以通过单数形式、复数形式、简写形式表示。
1 2 3 4  # 例：不同写法的Type,但是效果一致 kubectl get pod pod1 kubectl get pods pod1 kubectl get po pod1     [NAME] 资源对象名称。区分大小写 备注： 如果不指定名称，将返回属于TYPE的所有对象列表。
1 2  # 例：返回所有对象列表 kubectl get pods     [flags] kubectl子命令的可选参数
  2.
    </div>
    <div class="read-more">
      <a href="/post/cloudnative/kubernetes/1_k8s_base/2_kubectl/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/cloudnative/kubernetes/1_k8s_base/3_kubeadm/">[ Kubernetes ] 1-3.kubeadm命令使用</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-09-12" class="post-time">
        2020-09-12
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/k8s/"> K8s </a>
          
        </div>
      <span class="more-meta"> 约 55 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/cloudnative/kubernetes/1_k8s_base/3_kubeadm/" class="leancloud_visitors" data-flag-title="[ Kubernetes ] 1-3.kubeadm命令使用">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      kubeadm命令使用 一、kubeadm概述 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  $~:kubeadm --help # kubeadm [command] |———— alpha [command] |———— completion |———— config |———— images |———— list 列出所有依赖镜像 |———— pull |———— help 查看命令详细描述 |———— init 初始化Kubernetes集群Master |———— join 在Kubernetes集群中增加Node |———— reset 重置Kubernetes集群 |———— token |———— upgrade |———— version   
    </div>
    <div class="read-more">
      <a href="/post/cloudnative/kubernetes/1_k8s_base/3_kubeadm/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/cloudnative/kubernetes/1_k8s_base/5_helm/">[ Kubernetes ] 1-5.K8s之Helm包管理工具</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-09-12" class="post-time">
        2020-09-12
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/k8s/"> K8s </a>
          
        </div>
      <span class="more-meta"> 约 151 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/cloudnative/kubernetes/1_k8s_base/5_helm/" class="leancloud_visitors" data-flag-title="[ Kubernetes ] 1-5.K8s之Helm包管理工具">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      K8s之Helm包管理工具  Helm 是 Deis 开发的一个用于 Kubernetes 应用的包管理工具，主要用来管理 Charts。有点类似于 Ubuntu 中的 APT 或 CentOS 中的 YUM。
 一、安装 Helm Release Link
1.OS-CentOS 当前使用版本为Helm v3.1.2 linux
1 2 3 4 5 6 7 8  # 下载二进制可执行文件压缩包 wget -O /data/helm.tar.gz https://get.helm.sh/helm-v3.1.2-linux-amd64.tar.gz # 解压 tar -xzvf /data/helm.tar.gz # 移动helm二进制文件，方便全局访问 mv linux-amd64/helm /usr/local/bin/helm   2.OS-MacOS ①.自动安装 PS：操作系统已安装brew工具
1  brew install helm   ②.手动安装 当前使用版本为Helm v3.1.2 darwin
1 2 3 4 5 6 7 8  # 下载二进制可执行文件压缩包 wget -O ~/helm.
    </div>
    <div class="read-more">
      <a href="/post/cloudnative/kubernetes/1_k8s_base/5_helm/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/cloudnative/kubernetes/index-readme/">[ Kubernetes ] 0.Kubernetes</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-09-11" class="post-time">
        2020-09-11
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/k8s/"> K8s </a>
          
        </div>
      <span class="more-meta"> 约 19 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/cloudnative/kubernetes/index-readme/" class="leancloud_visitors" data-flag-title="[ Kubernetes ] 0.Kubernetes">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      Kubernetes Kubernetes(K8s)，译文成为【舵手】。从官网的Logo可以看出是轮船上的舵。结合container(集装箱，容器)的概念，Kubernetes看起来则是管理这些容器的。是一个自动化的容器编排平台，负责应用的部署、应用的弹性以及应用的管理，前提则是这些应用都是基于容器的。
核心功能   服务的发现与负载均衡
附属组件KubeDNS为系统内置了服务发现功能，可以将每一个Service增加DNS名称，使得集群内节点直接通过此名称访问到；同时Service通过iptables、ipvs支持了负载均衡。
  自动装箱
构建于容器之上，基于资源依赖及其他约束在不影响其可用性的情况下自动完成容器的部署工作。
  自我修复
容器故障后自动重启、节点故障后自动重新进行容器调度、节点健康状态检查异常后会关闭容器进行重新创建。
  水平扩展
通过命令、UI手动水平扩展、基于CPU等资源负载率进行自动水平扩展。
  自动发布与回滚
使用灰度方式更新应用或其配置，过程中的应用健康状态将得到监控，以保证不在同一时刻kill掉所有实例；同时，过程中健康状态出现异常情况，将会立即自动执行回滚。
  存储编排
Pod对象自动挂载不同类型的存储系统。
  批量处理
支持批处理作业、CI持续集成。
  秘钥与配置管理
K8s的configMap将配置与Docker镜像解耦，更新配置时，无需重新构建Docker镜像。同时，敏感数据将通过Secret对象进行解耦，以保障一定程度上的最大安全。
  
    </div>
    <div class="read-more">
      <a href="/post/cloudnative/kubernetes/index-readme/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/cloudnative/kubernetes/1_k8s_base/1_concept/">[ Kubernetes ] 1-1.初识K8s</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-09-11" class="post-time">
        2020-09-11
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/k8s/"> K8s </a>
          
        </div>
      <span class="more-meta"> 约 78 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/cloudnative/kubernetes/1_k8s_base/1_concept/" class="leancloud_visitors" data-flag-title="[ Kubernetes ] 1-1.初识K8s">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      初识K8s 术语及原理   Master(主节点:control plane) 集群中的神经中枢网关。负责整个集群的资源管理、Pod调度、弹性伸缩、安全控制、系统监控、纠错等管理功能。
  ApiServer
集群的网关。
 负责输出RESTful风格K8s接口，则是通往集群所有REST操作命令的入口，并负责接收、校验、相应所有的REST请求，最终结果状态存储在etcd中。
   Controller Manager
负责生命周期功能及API业务逻辑。
 **a.生命周期功能：**Namespace创建和生命周期、Event垃圾回收、Pod对象终止相关的垃圾回收、级联垃圾回收、Node的垃圾回收 **b.API业务逻辑：**由ReplicaSet执行的Pod对象扩展
   Scheduler
在API Server确认Pod对象之后，由调度器(Scheduler)根据集群中各节点的可用资源状态、目标运行容器的资源需求做出调度策略。
  Etcd
基于Raft协议开发的分布式键值存储，用于服务发现、共享配置、保证一致性(数据库的主从节点选择，分布式锁等)。
 a.etcd是独立的组件，并不属于K8s集群。 b.生产环境etcd应该按照集群方式部署运行，以提升高可用。
     Node(从节点:worker node)
工作节点。负责接收来自Master节点的工作指令并根据指令相应的创建或者销毁Pod对象，以及调整网络规则以合理的路由转发流量。
  Pod
Kubernetes并不会直接运行容器，而是使用一个抽象的资源对象封装一个或者多个容器，此对象就是Pod对象。 是K8s最小的调度单元。 **一个Pod对象可以拥有多个Container容器应用。**通常情况下，这些在同一个Pod对象中的Container容器是高耦合。因为其共用同一个Pod对象下的网络名称空间、存储资源、UTS命名空间(同一个主机名称)、PID命名空间(不同应用程序可以看到其他应用程序的PID)
  Pod Controller(Pod 控制器)
虽说Pod对象是最小的调度单元，但实际应用中，并不会直接部署、管理Pod对象，而是借助Pod Controller对其进行管理。
  Replication Controller(复制控制器)
K8s的核心概念，用于管理Pod的声明周期。在主节点中，控制管理器进程同RC的定义完成Pod的创建、监控、启停等操作。
  Replica Set
保证在某个时间点儿上，一定数量的Pod对象在运行。是Replication Controller的升级版本。
 主要区别在于Selector选择器 Replica Set:支持集合级别的选择器。 Replication Controller:支持在等号描述的选择器。
    </div>
    <div class="read-more">
      <a href="/post/cloudnative/kubernetes/1_k8s_base/1_concept/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/middleware/etcd/etcd_interview/">[ Etcd ] 1.基础入门(1)</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-08-30" class="post-time">
        2020-08-30
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/k8s/"> K8s </a>
          
        </div>
      <span class="more-meta"> 约 105 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/middleware/etcd/etcd_interview/" class="leancloud_visitors" data-flag-title="[ Etcd ] 1.基础入门(1)">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      ETCD  其中ETCD是一个用于存储关键数据的键值存储，ZK是一个用于管理配置等信息的中心化服务 ETCD包括 Raft 协议、存储两大模块. etcd 的使用其实非常简单，它对外提供了 gRPC 接口，我们可以通过 Protobuf 和 gRPC 直接对 etcd 中存储的数据进行管理，也可以使用官方提供的 etcdctl 操作存储的数据。
 raft协议  每一个 Raft 集群中都包含多个服务器，在任意时刻，每一台服务器只可能处于 Leader、Follower 以及 Candidate 三种状态；在处于正常的状态时，集群中只会存在一个 Leader，其余的服务器都是 Follower。
 节点选举  使用 Raft 协议的 etcd 集群在启动节点时，会遵循 Raft 协议的规则，所有节点一开始都被初始化为 Follower 状态，新加入的节点会在 NewNode 中做一些配置的初始化，包括用于接收各种信息的 Channel
 竞选流程 如果集群中的某一个 Follower 节点长时间内没有收到来自 Leader 的心跳请求，当前节点就会通过 MsgHup 消息进入预选举或者选举的流程。 如果收到 MsgHup 消息的节点不是 Leader 状态，就会根据当前集群的配置选择进入 PreElection 或者 Election 阶段，PreElection 阶段并不会真正增加当前节点的 Term，它的主要作用是得到当前集群能否成功选举出一个 Leader 的答案，如果当前集群中只有两个节点而且没有预选举阶段，那么这两个节点的 Term 会无休止的增加，预选举阶段就是为了解决这一问题而出现的。 当前节点会立刻调用 becomeCandidate 将当前节点的 Raft 状态变成候选人；在这之后，它会将票投给自己，如果当前集群只有一个节点，该节点就会直接成为集群中的 Leader 节点。
    </div>
    <div class="read-more">
      <a href="/post/middleware/etcd/etcd_interview/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/middleware/etcd/etcd_sourcecode_1/">[ Etcd ] 2.基础入门(2)</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-08-30" class="post-time">
        2020-08-30
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/k8s/"> K8s </a>
          
        </div>
      <span class="more-meta"> 约 167 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/middleware/etcd/etcd_sourcecode_1/" class="leancloud_visitors" data-flag-title="[ Etcd ] 2.基础入门(2)">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      Etcd源码阅读与分析①-raft demo Etcd 与 Zookeeper 对比  一致性协议:配置共享&amp;服务发现组件的核心基础。  Zookeeper采用ZAB协议(一种类Paxos协议)实现一致性 Etcd采用Raft协议，相比Paxos协议更容易理解，工程化。   API接口: 包含有两个版本V2、V3  V2: 提供HTTP+Json方式调用 V3: 提供grpc方式调用   性能  官方测试数据显示：10000+/s写入(优于Zookeeper性能)   安全  Etcd支持TSL(权限控制优于Zookeeper)    Etcd是一个基于Raft协议的简单内存KV项目
源码分析 本文档将以etcd作者在项目中所提供的demo程序进行源码试读。demo名称为raftexample。 路径在
1.项目结构 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  (base) {11:45}~/etcd:master ✗ ➭ tree -d -L 1 .
    </div>
    <div class="read-more">
      <a href="/post/middleware/etcd/etcd_sourcecode_1/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
    <article class="post bg-white">
  <header class="post-header">
    <h1 class="post-title">
      
      <a class="post-link" href="/post/cloudnative/docker/docker/8_ufs_linux4docker/">[ Docker ] 8.文件系统之UFS</a>
    </h1>
    
    <div class="post-meta">
      <time datetime="2020-08-23" class="post-time">
        2020-08-23
      </time>
      <div class="post-category">
          <a href="https://touch-star.com/categories/k8s/"> K8s </a>
          
        </div>
      <span class="more-meta"> 约 14 字 </span>
      <span class="more-meta"> 预计阅读 1 分钟 </span>
      
      
      
        <span id="/post/cloudnative/docker/docker/8_ufs_linux4docker/" class="leancloud_visitors" data-flag-title="[ Docker ] 8.文件系统之UFS">
          <span class="post-meta-item-text"> | 阅读 </span>
          <span class="leancloud-visitors-count"></span>
        </span>
      
    </div>
  </header>
  
  <div class="post-content">
    
    <div class="post-summary">
      文件系统之UFS UFS 联合文件系统[Union File System]，把其他文件系统联合到一个联合挂载点的文件系统服务(适用于Linux、FreeBSD、NetBSD OS)。
 原理： 使用branch把不同文件系统的文件、目录「透明的」进行覆盖，形成一个单一一直的文件系统。branch具有要么read-only,要么read-write的特点。
  思想： 写时复制(copy-on-write),如果一个资源重复，但并未被修改，将不被立即创建出新的资源，直接为新旧实例提供共享。创建新资源将发生在第一次被修改写入时。该资源共享方式，可以明显降低未修改资源复制时的消耗，但同样的，也会在写入修改是增加部分开销。
  AFUS(Advanced Multi-Layered Unification FileSystem)  
    </div>
    <div class="read-more">
      <a href="/post/cloudnative/docker/docker/8_ufs_linux4docker/" class="read-more-link">阅读全文</a>
    </div>
    
  </div>
</article>

  
</section>






  
  
  

  
  

  
  

  
  

  
  
  <nav class="pagination">
    <ul>
      
      <li >
        <a href="/">1</a>
      </li>
      
      <li  class="active" >
        <a href="/page/2/">2</a>
      </li>
      
      <li >
        <a href="/page/3/">3</a>
      </li>
      
      <li >
        <a href="/page/4/">4</a>
      </li>
      
      <li >
        <a href="/page/5/">5</a>
      </li>
      
      <li >
        <a href="/page/6/">6</a>
      </li>
      
      <li >
        <a href="/page/7/">7</a>
      </li>
      
      <li >
        <a href="/page/8/">8</a>
      </li>
      
      <li >
        <a href="/page/9/">9</a>
      </li>
      
      <li >
        <a href="/page/10/">10</a>
      </li>
      
      <li >
        <a href="/page/11/">11</a>
      </li>
      
    </ul>
  </nav>

  
  





        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:xy410257@163.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/quinniup" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>


<a href="https://touch-star.com/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2019 -
    2021
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Quinn
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  







  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script type="text/javascript">
    AV.initialize("OhEPOy5aOYzYHl3v9PCSQsnv-gzGzoHsz", "f1kLulToEkQkoGTmgxqQagSw");
  </script>

  <script>
    function showHitCount(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push($(this).attr("id").trim());
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var hits = item.get('hits');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(hits);
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if (countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function (results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("hits");
            counter.save(null, {
              success: function (counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('hits'));
              },
              error: function (counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
             
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
             
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("hits", 1);
            newcounter.save(null, {
              success: function (newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('hits'));
              },
              error: function (newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function (error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function () {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        
        addCount(Counter);
      } else if ($('.post-link').length > 1) {
        
        showHitCount(Counter);
      }
    });
  </script>









</body>
</html>
